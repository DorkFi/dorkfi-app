#!/bin/bash

# Setup script for version management
# This script sets up git hooks and gitignore entries

echo "ðŸ”§ Setting up version management..."

# Make the pre-commit hook executable
chmod +x .git/hooks/pre-commit

# Add .env.local to .gitignore if it's not already there
if ! grep -q ".env.local" .gitignore 2>/dev/null; then
    echo "" >> .gitignore
    echo "# Local environment variables (generated by version script)" >> .gitignore
    echo ".env.local" >> .gitignore
    echo "ðŸ“ Added .env.local to .gitignore"
fi

# Create initial .env.local if it doesn't exist
if [ ! -f .env.local ]; then
    echo "VITE_APP_VERSION=0.1.0" > .env.local
    echo "ðŸ“„ Created initial .env.local"
fi

echo "âœ… Version management setup complete!"
echo ""
echo "ðŸ“‹ What was set up:"
echo "  â€¢ Pre-commit hook to auto-increment version"
echo "  â€¢ .env.local added to .gitignore"
echo "  â€¢ Initial .env.local created"
echo ""
echo "ðŸš€ The version will now automatically increment on every commit!"
